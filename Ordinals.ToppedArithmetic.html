<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ordinals.ToppedArithmetic</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Background">Martin Escardo, 29 June 2018

To get closure under sums constructively, we need to restrict to
particular kinds of ordinals. Having a top element is a simple
sufficient condition, which holds in the applications we have in mind
(for compact ordinals).  Classically, ordinals with a top element are
precisely the successor ordinals. Constructively, ℕ∞ is an example of
an ordinal with a top element, which &quot;is not&quot; a successor ordinal, as
its top element is not isolated.

TODO. Generalize this from 𝓤₀ to an arbitrary universe. The
(practical) problem is that the type of natural numbers is defined at
𝓤₀. We could (1) either using universe lifting, or (2) define the type
in any universe (like we did for the the types 𝟘 and 𝟙). But (1) is
cumbersome and (2) requires much work in other modules.


</a><a id="800" class="Markup">\begin{code}</a>

<a id="814" class="Symbol">{-#</a> <a id="818" class="Keyword">OPTIONS</a> <a id="826" class="Pragma">--without-K</a> <a id="838" class="Pragma">--exact-split</a> <a id="852" class="Pragma">--safe</a> <a id="859" class="Pragma">--auto-inline</a> <a id="873" class="Symbol">#-}</a>

<a id="878" class="Keyword">open</a> <a id="883" class="Keyword">import</a> <a id="890" href="UF.FunExt.html" class="Module">UF.FunExt</a>

<a id="901" class="Keyword">module</a> <a id="908" href="Ordinals.ToppedArithmetic.html" class="Module">Ordinals.ToppedArithmetic</a>
        <a id="942" class="Symbol">(</a><a id="943" href="Ordinals.ToppedArithmetic.html#943" class="Bound">fe</a> <a id="946" class="Symbol">:</a> <a id="948" href="UF.FunExt.html#984" class="Function">FunExt</a><a id="954" class="Symbol">)</a>
       <a id="963" class="Keyword">where</a>

<a id="970" class="Keyword">open</a> <a id="975" class="Keyword">import</a> <a id="982" href="UF.Subsingletons.html" class="Module">UF.Subsingletons</a>

<a id="1000" class="Keyword">open</a> <a id="1005" class="Keyword">import</a> <a id="1012" href="MLTT.Spartan.html" class="Module">MLTT.Spartan</a>
<a id="1025" class="Keyword">open</a> <a id="1030" class="Keyword">import</a> <a id="1037" href="CoNaturals.GenericConvergentSequence.html" class="Module">CoNaturals.GenericConvergentSequence</a>
<a id="1074" class="Keyword">open</a> <a id="1079" class="Keyword">import</a> <a id="1086" href="TypeTopology.SquashedSum.html" class="Module">TypeTopology.SquashedSum</a> <a id="1111" href="Ordinals.ToppedArithmetic.html#943" class="Bound">fe</a>
<a id="1114" class="Keyword">open</a> <a id="1119" class="Keyword">import</a> <a id="1126" href="Notation.CanonicalMap.html" class="Module">Notation.CanonicalMap</a>

<a id="1149" class="Keyword">open</a> <a id="1154" class="Keyword">import</a> <a id="1161" href="Ordinals.Type.html" class="Module">Ordinals.Type</a>
<a id="1175" class="Keyword">open</a> <a id="1180" class="Keyword">import</a> <a id="1187" href="Ordinals.Arithmetic.html" class="Module">Ordinals.Arithmetic</a> <a id="1207" href="Ordinals.ToppedArithmetic.html#943" class="Bound">fe</a>
<a id="1210" class="Keyword">open</a> <a id="1215" class="Keyword">import</a> <a id="1222" href="Ordinals.WellOrderArithmetic.html" class="Module">Ordinals.WellOrderArithmetic</a>
<a id="1251" class="Keyword">open</a> <a id="1256" class="Keyword">import</a> <a id="1263" href="Ordinals.ToppedType.html" class="Module">Ordinals.ToppedType</a> <a id="1283" href="Ordinals.ToppedArithmetic.html#943" class="Bound">fe</a>
<a id="1286" class="Keyword">open</a> <a id="1291" class="Keyword">import</a> <a id="1298" href="Ordinals.Injectivity.html" class="Module">Ordinals.Injectivity</a>
<a id="1319" class="Keyword">open</a> <a id="1324" class="Keyword">import</a> <a id="1331" href="Ordinals.Underlying.html" class="Module">Ordinals.Underlying</a>

<a id="Ordᵀ"></a><a id="1352" href="Ordinals.ToppedArithmetic.html#1352" class="Function">Ordᵀ</a> <a id="1357" class="Symbol">=</a> <a id="1359" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="1368" href="Agda.Primitive.html#764" class="Primitive">𝓤₀</a>

<a id="succₒ"></a><a id="1372" href="Ordinals.ToppedArithmetic.html#1372" class="Function">succₒ</a> <a id="1378" class="Symbol">:</a> <a id="1380" href="Ordinals.Type.html#682" class="Function">Ordinal</a> <a id="1388" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a> <a id="1390" class="Symbol">→</a> <a id="1392" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="1401" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a>
<a id="1403" href="Ordinals.ToppedArithmetic.html#1372" class="Function">succₒ</a> <a id="1409" href="Ordinals.ToppedArithmetic.html#1409" class="Bound">α</a> <a id="1411" class="Symbol">=</a> <a id="1413" href="Ordinals.ToppedArithmetic.html#1409" class="Bound">α</a> <a id="1415" href="Ordinals.Arithmetic.html#1772" class="Function Operator">+ₒ</a> <a id="1418" href="Ordinals.Arithmetic.html#920" class="Function">𝟙ₒ</a>  <a id="1422" href="MLTT.Sigma.html#423" class="InductiveConstructor Operator">,</a>
          <a id="1434" href="Ordinals.WellOrderArithmetic.html#4228" class="Function">plus.top-preservation</a>
           <a id="1467" class="Symbol">(</a><a id="1468" href="Ordinals.Underlying.html#373" class="Field">underlying-order</a> <a id="1485" href="Ordinals.ToppedArithmetic.html#1409" class="Bound">α</a><a id="1486" class="Symbol">)</a>
           <a id="1499" class="Symbol">(</a><a id="1500" href="Ordinals.Underlying.html#373" class="Field">underlying-order</a> <a id="1517" href="Ordinals.Arithmetic.html#920" class="Function">𝟙ₒ</a><a id="1519" class="Symbol">)</a>
           <a id="1532" class="Symbol">(</a><a id="1533" href="Ordinals.WellOrderArithmetic.html#1097" class="Function">prop.topped</a> <a id="1545" href="MLTT.Unit.html#157" class="Record">𝟙</a> <a id="1547" href="UF.Subsingletons.html#2775" class="Function">𝟙-is-prop</a> <a id="1557" href="MLTT.Unit.html#190" class="InductiveConstructor">⋆</a><a id="1558" class="Symbol">)</a>

<a id="succₒ-is-trichotomous"></a><a id="1561" href="Ordinals.ToppedArithmetic.html#1561" class="Function">succₒ-is-trichotomous</a> <a id="1583" class="Symbol">:</a> <a id="1585" class="Symbol">(</a><a id="1586" href="Ordinals.ToppedArithmetic.html#1586" class="Bound">α</a> <a id="1588" class="Symbol">:</a> <a id="1590" href="Ordinals.Type.html#682" class="Function">Ordinal</a> <a id="1598" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a><a id="1599" class="Symbol">)</a>
                      <a id="1623" class="Symbol">→</a> <a id="1625" href="Ordinals.Type.html#1331" class="Function">is-trichotomous</a> <a id="1641" href="Ordinals.ToppedArithmetic.html#1586" class="Bound">α</a>
                      <a id="1665" class="Symbol">→</a> <a id="1667" href="Ordinals.Type.html#1331" class="Function">is-trichotomous</a> <a id="1683" href="Notation.CanonicalMap.html#531" class="Function Operator">[</a> <a id="1685" href="Ordinals.ToppedArithmetic.html#1372" class="Function">succₒ</a> <a id="1691" href="Ordinals.ToppedArithmetic.html#1586" class="Bound">α</a> <a id="1693" href="Notation.CanonicalMap.html#531" class="Function Operator">]</a>
<a id="1695" href="Ordinals.ToppedArithmetic.html#1561" class="Function">succₒ-is-trichotomous</a> <a id="1717" href="Ordinals.ToppedArithmetic.html#1717" class="Bound">α</a> <a id="1719" href="Ordinals.ToppedArithmetic.html#1719" class="Bound">t</a> <a id="1721" class="Symbol">=</a> <a id="1723" href="Ordinals.Arithmetic.html#1973" class="Function">+ₒ-is-trichotomous</a> <a id="1742" href="Ordinals.ToppedArithmetic.html#1717" class="Bound">α</a> <a id="1744" href="Ordinals.Arithmetic.html#920" class="Function">𝟙ₒ</a> <a id="1747" href="Ordinals.ToppedArithmetic.html#1719" class="Bound">t</a> <a id="1749" href="Ordinals.Arithmetic.html#1095" class="Function">𝟙ₒ-is-trichotomous</a>

<a id="𝟙ᵒ"></a><a id="1769" href="Ordinals.ToppedArithmetic.html#1769" class="Function">𝟙ᵒ</a> <a id="𝟚ᵒ"></a><a id="1772" href="Ordinals.ToppedArithmetic.html#1772" class="Function">𝟚ᵒ</a> <a id="1775" class="Symbol">:</a> <a id="1777" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="1786" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a>
<a id="1788" href="Ordinals.ToppedArithmetic.html#1769" class="Function">𝟙ᵒ</a> <a id="1791" class="Symbol">=</a> <a id="1793" href="Ordinals.Arithmetic.html#920" class="Function">𝟙ₒ</a> <a id="1796" href="MLTT.Sigma.html#423" class="InductiveConstructor Operator">,</a> <a id="1798" href="Ordinals.WellOrderArithmetic.html#1097" class="Function">prop.topped</a> <a id="1810" href="MLTT.Unit.html#157" class="Record">𝟙</a> <a id="1812" href="UF.Subsingletons.html#2775" class="Function">𝟙-is-prop</a> <a id="1822" href="MLTT.Unit.html#190" class="InductiveConstructor">⋆</a>
<a id="1824" href="Ordinals.ToppedArithmetic.html#1772" class="Function">𝟚ᵒ</a> <a id="1827" class="Symbol">=</a> <a id="1829" href="Ordinals.ToppedArithmetic.html#1372" class="Function">succₒ</a> <a id="1835" href="Ordinals.Arithmetic.html#920" class="Function">𝟙ₒ</a>

<a id="ℕ∞ᵒ"></a><a id="1839" href="Ordinals.ToppedArithmetic.html#1839" class="Function">ℕ∞ᵒ</a> <a id="1843" class="Symbol">:</a> <a id="1845" href="Ordinals.ToppedArithmetic.html#1352" class="Function">Ordᵀ</a>
<a id="1850" href="Ordinals.ToppedArithmetic.html#1839" class="Function">ℕ∞ᵒ</a> <a id="1854" class="Symbol">=</a> <a id="1856" class="Symbol">(</a><a id="1857" href="Ordinals.Arithmetic.html#1430" class="Function">ℕ∞ₒ</a> <a id="1861" href="MLTT.Sigma.html#423" class="InductiveConstructor Operator">,</a> <a id="1863" href="CoNaturals.GenericConvergentSequence.html#5730" class="Function">∞</a> <a id="1865" href="MLTT.Sigma.html#423" class="InductiveConstructor Operator">,</a> <a id="1867" href="CoNaturals.GenericConvergentSequence.html#18222" class="Function">∞-top</a><a id="1872" class="Symbol">)</a>

<a id="1875" class="Markup">\end{code}</a><a id="1885" class="Background">

Sum of an ordinal-indexed family of ordinals:

</a><a id="1934" class="Markup">\begin{code}</a>

<a id="∑"></a><a id="1948" href="Ordinals.ToppedArithmetic.html#1948" class="Function">∑</a> <a id="1950" class="Symbol">:</a> <a id="1952" class="Symbol">(</a><a id="1953" href="Ordinals.ToppedArithmetic.html#1953" class="Bound">τ</a> <a id="1955" class="Symbol">:</a> <a id="1957" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="1966" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a><a id="1967" class="Symbol">)</a> <a id="1969" class="Symbol">→</a> <a id="1971" class="Symbol">(</a><a id="1972" href="Ordinals.Underlying.html#344" class="Field Operator">⟨</a> <a id="1974" href="Ordinals.ToppedArithmetic.html#1953" class="Bound">τ</a> <a id="1976" href="Ordinals.Underlying.html#344" class="Field Operator">⟩</a> <a id="1978" class="Symbol">→</a> <a id="1980" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="1989" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a><a id="1990" class="Symbol">)</a> <a id="1992" class="Symbol">→</a> <a id="1994" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="2003" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a>
<a id="2005" href="Ordinals.ToppedArithmetic.html#1948" class="Function">∑</a> <a id="2007" class="Symbol">{</a><a id="2008" href="Ordinals.ToppedArithmetic.html#2008" class="Bound">𝓤</a><a id="2009" class="Symbol">}</a> <a id="2011" class="Symbol">((</a><a id="2013" href="Ordinals.ToppedArithmetic.html#2013" class="Bound">X</a> <a id="2015" href="MLTT.Sigma.html#423" class="InductiveConstructor Operator">,</a> <a id="2017" href="Ordinals.ToppedArithmetic.html#2017" class="Bound Operator">_&lt;_</a> <a id="2021" href="MLTT.Sigma.html#423" class="InductiveConstructor Operator">,</a> <a id="2023" href="Ordinals.ToppedArithmetic.html#2023" class="Bound">o</a><a id="2024" class="Symbol">)</a> <a id="2026" href="MLTT.Sigma.html#423" class="InductiveConstructor Operator">,</a> <a id="2028" href="Ordinals.ToppedArithmetic.html#2028" class="Bound">t</a><a id="2029" class="Symbol">)</a> <a id="2031" href="Ordinals.ToppedArithmetic.html#2031" class="Bound">υ</a> <a id="2033" class="Symbol">=</a> <a id="2035" class="Symbol">((</a><a id="2037" href="MLTT.Sigma.html#451" class="Function">Σ</a> <a id="2039" href="Ordinals.ToppedArithmetic.html#2039" class="Bound">x</a> <a id="2041" href="MLTT.Sigma.html#451" class="Function">꞉</a> <a id="2043" href="Ordinals.ToppedArithmetic.html#2013" class="Bound">X</a> <a id="2045" href="MLTT.Sigma.html#451" class="Function">,</a> <a id="2047" href="Ordinals.Underlying.html#344" class="Field Operator">⟨</a> <a id="2049" href="Ordinals.ToppedArithmetic.html#2031" class="Bound">υ</a> <a id="2051" href="Ordinals.ToppedArithmetic.html#2039" class="Bound">x</a> <a id="2053" href="Ordinals.Underlying.html#344" class="Field Operator">⟩</a><a id="2054" class="Symbol">)</a> <a id="2056" href="MLTT.Sigma.html#423" class="InductiveConstructor Operator">,</a>
                              <a id="2088" href="Ordinals.WellOrderArithmetic.html#18599" class="Function">Sum.order</a> <a id="2098" href="MLTT.Sigma.html#423" class="InductiveConstructor Operator">,</a>
                              <a id="2130" href="Ordinals.WellOrderArithmetic.html#24633" class="Function">Sum.well-order</a> <a id="2145" href="Ordinals.ToppedArithmetic.html#2023" class="Bound">o</a> <a id="2147" class="Symbol">(λ</a> <a id="2150" href="Ordinals.ToppedArithmetic.html#2150" class="Bound">x</a> <a id="2152" class="Symbol">→</a> <a id="2154" href="Ordinals.ToppedType.html#1573" class="Function">tis-well-ordered</a> <a id="2171" class="Symbol">(</a><a id="2172" href="Ordinals.ToppedArithmetic.html#2031" class="Bound">υ</a> <a id="2174" href="Ordinals.ToppedArithmetic.html#2150" class="Bound">x</a><a id="2175" class="Symbol">)))</a> <a id="2179" href="MLTT.Sigma.html#423" class="InductiveConstructor Operator">,</a>
                          <a id="2207" href="Ordinals.WellOrderArithmetic.html#25335" class="Function">Sum.top-preservation</a> <a id="2228" href="Ordinals.ToppedArithmetic.html#2028" class="Bound">t</a>
 <a id="2231" class="Keyword">where</a>
  <a id="2239" href="Ordinals.ToppedArithmetic.html#2239" class="Function Operator">_≺_</a> <a id="2243" class="Symbol">:</a> <a id="2245" class="Symbol">{</a><a id="2246" href="Ordinals.ToppedArithmetic.html#2246" class="Bound">x</a> <a id="2248" class="Symbol">:</a> <a id="2250" href="Ordinals.ToppedArithmetic.html#2013" class="Bound">X</a><a id="2251" class="Symbol">}</a> <a id="2253" class="Symbol">→</a> <a id="2255" href="Ordinals.Underlying.html#344" class="Field Operator">⟨</a> <a id="2257" href="Ordinals.ToppedArithmetic.html#2031" class="Bound">υ</a> <a id="2259" href="Ordinals.ToppedArithmetic.html#2246" class="Bound">x</a> <a id="2261" href="Ordinals.Underlying.html#344" class="Field Operator">⟩</a> <a id="2263" class="Symbol">→</a> <a id="2265" href="Ordinals.Underlying.html#344" class="Field Operator">⟨</a> <a id="2267" href="Ordinals.ToppedArithmetic.html#2031" class="Bound">υ</a> <a id="2269" href="Ordinals.ToppedArithmetic.html#2246" class="Bound">x</a> <a id="2271" href="Ordinals.Underlying.html#344" class="Field Operator">⟩</a> <a id="2273" class="Symbol">→</a> <a id="2275" href="Ordinals.ToppedArithmetic.html#2008" class="Bound">𝓤</a> <a id="2277" href="MLTT.Universes.html#422" class="Function Operator">̇</a>
  <a id="2281" href="Ordinals.ToppedArithmetic.html#2281" class="Bound">y</a> <a id="2283" href="Ordinals.ToppedArithmetic.html#2239" class="Function Operator">≺</a> <a id="2285" href="Ordinals.ToppedArithmetic.html#2285" class="Bound">z</a> <a id="2287" class="Symbol">=</a> <a id="2289" href="Ordinals.ToppedArithmetic.html#2281" class="Bound">y</a> <a id="2291" href="Ordinals.Underlying.html#373" class="Field">≺⟨</a> <a id="2294" href="Ordinals.ToppedArithmetic.html#2031" class="Bound">υ</a> <a id="2296" class="Symbol">_</a> <a id="2298" href="Ordinals.Underlying.html#373" class="Field">⟩</a> <a id="2300" href="Ordinals.ToppedArithmetic.html#2285" class="Bound">z</a>

  <a id="2305" class="Keyword">module</a> <a id="2312" href="Ordinals.ToppedArithmetic.html#2312" class="Module">Sum</a> <a id="2316" class="Symbol">=</a> <a id="2318" href="Ordinals.WellOrderArithmetic.html#22189" class="Module">sum-top</a> <a id="2326" href="Ordinals.ToppedArithmetic.html#943" class="Bound">fe</a> <a id="2329" href="Ordinals.ToppedArithmetic.html#2017" class="Bound Operator">_&lt;_</a> <a id="2333" href="Ordinals.ToppedArithmetic.html#2239" class="Function Operator">_≺_</a> <a id="2337" class="Symbol">(λ</a> <a id="2340" href="Ordinals.ToppedArithmetic.html#2340" class="Bound">x</a> <a id="2342" class="Symbol">→</a> <a id="2344" href="Ordinals.ToppedType.html#1999" class="Function">top</a> <a id="2348" class="Symbol">(</a><a id="2349" href="Ordinals.ToppedArithmetic.html#2031" class="Bound">υ</a> <a id="2351" href="Ordinals.ToppedArithmetic.html#2340" class="Bound">x</a><a id="2352" class="Symbol">))</a> <a id="2355" class="Symbol">(λ</a> <a id="2358" href="Ordinals.ToppedArithmetic.html#2358" class="Bound">x</a> <a id="2360" class="Symbol">→</a> <a id="2362" href="Ordinals.ToppedType.html#2053" class="Function">top-is-top</a> <a id="2373" class="Symbol">(</a><a id="2374" href="Ordinals.ToppedArithmetic.html#2031" class="Bound">υ</a> <a id="2376" href="Ordinals.ToppedArithmetic.html#2358" class="Bound">x</a><a id="2377" class="Symbol">))</a>

<a id="∑-is-trichotomous"></a><a id="2381" href="Ordinals.ToppedArithmetic.html#2381" class="Function">∑-is-trichotomous</a> <a id="2399" class="Symbol">:</a> <a id="2401" class="Symbol">(</a><a id="2402" href="Ordinals.ToppedArithmetic.html#2402" class="Bound">τ</a> <a id="2404" class="Symbol">:</a> <a id="2406" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="2415" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a><a id="2416" class="Symbol">)</a> <a id="2418" class="Symbol">(</a><a id="2419" href="Ordinals.ToppedArithmetic.html#2419" class="Bound">υ</a> <a id="2421" class="Symbol">:</a> <a id="2423" href="Ordinals.Underlying.html#344" class="Field Operator">⟨</a> <a id="2425" href="Ordinals.ToppedArithmetic.html#2402" class="Bound">τ</a> <a id="2427" href="Ordinals.Underlying.html#344" class="Field Operator">⟩</a> <a id="2429" class="Symbol">→</a> <a id="2431" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="2440" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a><a id="2441" class="Symbol">)</a>
                  <a id="2461" class="Symbol">→</a> <a id="2463" href="Ordinals.Type.html#1331" class="Function">is-trichotomous</a> <a id="2479" href="Notation.CanonicalMap.html#531" class="Function Operator">[</a> <a id="2481" href="Ordinals.ToppedArithmetic.html#2402" class="Bound">τ</a> <a id="2483" href="Notation.CanonicalMap.html#531" class="Function Operator">]</a>
                  <a id="2503" class="Symbol">→</a> <a id="2505" class="Symbol">((</a><a id="2507" href="Ordinals.ToppedArithmetic.html#2507" class="Bound">x</a> <a id="2509" class="Symbol">:</a> <a id="2511" href="Ordinals.Underlying.html#344" class="Field Operator">⟨</a> <a id="2513" href="Ordinals.ToppedArithmetic.html#2402" class="Bound">τ</a> <a id="2515" href="Ordinals.Underlying.html#344" class="Field Operator">⟩</a><a id="2516" class="Symbol">)</a> <a id="2518" class="Symbol">→</a> <a id="2520" href="Ordinals.Type.html#1331" class="Function">is-trichotomous</a> <a id="2536" href="Notation.CanonicalMap.html#531" class="Function Operator">[</a> <a id="2538" href="Ordinals.ToppedArithmetic.html#2419" class="Bound">υ</a> <a id="2540" href="Ordinals.ToppedArithmetic.html#2507" class="Bound">x</a> <a id="2542" href="Notation.CanonicalMap.html#531" class="Function Operator">]</a><a id="2543" class="Symbol">)</a>
                  <a id="2563" class="Symbol">→</a> <a id="2565" href="Ordinals.Type.html#1331" class="Function">is-trichotomous</a> <a id="2581" href="Notation.CanonicalMap.html#531" class="Function Operator">[</a> <a id="2583" href="Ordinals.ToppedArithmetic.html#1948" class="Function">∑</a> <a id="2585" href="Ordinals.ToppedArithmetic.html#2402" class="Bound">τ</a> <a id="2587" href="Ordinals.ToppedArithmetic.html#2419" class="Bound">υ</a> <a id="2589" href="Notation.CanonicalMap.html#531" class="Function Operator">]</a>
<a id="2591" href="Ordinals.ToppedArithmetic.html#2381" class="Function">∑-is-trichotomous</a> <a id="2609" href="Ordinals.ToppedArithmetic.html#2609" class="Bound">τ</a> <a id="2611" href="Ordinals.ToppedArithmetic.html#2611" class="Bound">υ</a> <a id="2613" class="Symbol">=</a> <a id="2615" href="Ordinals.WellOrderArithmetic.html#21726" class="Function">sum.trichotomy-preservation</a> <a id="2643" class="Symbol">_</a> <a id="2645" class="Symbol">_</a>

<a id="2648" class="Markup">\end{code}</a><a id="2658" class="Background">

Addition and multiplication can be reduced to ∑, given the ordinal 𝟚ᵒ
defined above:

</a><a id="2746" class="Markup">\begin{code}</a>

<a id="_+ᵒ_"></a><a id="2760" href="Ordinals.ToppedArithmetic.html#2760" class="Function Operator">_+ᵒ_</a> <a id="2765" class="Symbol">:</a> <a id="2767" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="2776" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a> <a id="2778" class="Symbol">→</a> <a id="2780" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="2789" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a> <a id="2791" class="Symbol">→</a> <a id="2793" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="2802" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a>
<a id="2804" href="Ordinals.ToppedArithmetic.html#2804" class="Bound">τ</a> <a id="2806" href="Ordinals.ToppedArithmetic.html#2760" class="Function Operator">+ᵒ</a> <a id="2809" href="Ordinals.ToppedArithmetic.html#2809" class="Bound">υ</a> <a id="2811" class="Symbol">=</a> <a id="2813" href="Ordinals.ToppedArithmetic.html#1948" class="Function">∑</a> <a id="2815" href="Ordinals.ToppedArithmetic.html#1772" class="Function">𝟚ᵒ</a> <a id="2818" class="Symbol">(</a><a id="2819" href="MLTT.Plus.html#425" class="Function">cases</a> <a id="2825" class="Symbol">(λ</a> <a id="2828" href="Ordinals.ToppedArithmetic.html#2828" class="Bound">_</a> <a id="2830" class="Symbol">→</a> <a id="2832" href="Ordinals.ToppedArithmetic.html#2804" class="Bound">τ</a><a id="2833" class="Symbol">)</a> <a id="2835" class="Symbol">(λ</a> <a id="2838" href="Ordinals.ToppedArithmetic.html#2838" class="Bound">_</a> <a id="2840" class="Symbol">→</a> <a id="2842" href="Ordinals.ToppedArithmetic.html#2809" class="Bound">υ</a><a id="2843" class="Symbol">))</a>

<a id="+ᵒ-is-trichotomous"></a><a id="2847" href="Ordinals.ToppedArithmetic.html#2847" class="Function">+ᵒ-is-trichotomous</a> <a id="2866" class="Symbol">:</a> <a id="2868" class="Symbol">(</a><a id="2869" href="Ordinals.ToppedArithmetic.html#2869" class="Bound">τ</a> <a id="2871" href="Ordinals.ToppedArithmetic.html#2871" class="Bound">υ</a> <a id="2873" class="Symbol">:</a> <a id="2875" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="2884" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a><a id="2885" class="Symbol">)</a>
                   <a id="2906" class="Symbol">→</a> <a id="2908" href="Ordinals.Type.html#1331" class="Function">is-trichotomous</a> <a id="2924" href="Notation.CanonicalMap.html#531" class="Function Operator">[</a> <a id="2926" href="Ordinals.ToppedArithmetic.html#2869" class="Bound">τ</a> <a id="2928" href="Notation.CanonicalMap.html#531" class="Function Operator">]</a>
                   <a id="2949" class="Symbol">→</a> <a id="2951" href="Ordinals.Type.html#1331" class="Function">is-trichotomous</a> <a id="2967" href="Notation.CanonicalMap.html#531" class="Function Operator">[</a> <a id="2969" href="Ordinals.ToppedArithmetic.html#2871" class="Bound">υ</a> <a id="2971" href="Notation.CanonicalMap.html#531" class="Function Operator">]</a>
                   <a id="2992" class="Symbol">→</a> <a id="2994" href="Ordinals.Type.html#1331" class="Function">is-trichotomous</a> <a id="3010" href="Notation.CanonicalMap.html#531" class="Function Operator">[</a> <a id="3012" href="Ordinals.ToppedArithmetic.html#2869" class="Bound">τ</a> <a id="3014" href="Ordinals.ToppedArithmetic.html#2760" class="Function Operator">+ᵒ</a> <a id="3017" href="Ordinals.ToppedArithmetic.html#2871" class="Bound">υ</a> <a id="3019" href="Notation.CanonicalMap.html#531" class="Function Operator">]</a>
<a id="3021" href="Ordinals.ToppedArithmetic.html#2847" class="Function">+ᵒ-is-trichotomous</a> <a id="3040" href="Ordinals.ToppedArithmetic.html#3040" class="Bound">τ</a> <a id="3042" href="Ordinals.ToppedArithmetic.html#3042" class="Bound">υ</a> <a id="3044" href="Ordinals.ToppedArithmetic.html#3044" class="Bound">t</a> <a id="3046" href="Ordinals.ToppedArithmetic.html#3046" class="Bound">u</a> <a id="3048" class="Symbol">=</a> <a id="3050" href="Ordinals.ToppedArithmetic.html#2381" class="Function">∑-is-trichotomous</a> <a id="3068" href="Ordinals.ToppedArithmetic.html#1772" class="Function">𝟚ᵒ</a> <a id="3071" class="Symbol">(</a><a id="3072" href="MLTT.Plus.html#425" class="Function">cases</a> <a id="3078" class="Symbol">(λ</a> <a id="3081" href="Ordinals.ToppedArithmetic.html#3081" class="Bound">_</a> <a id="3083" class="Symbol">→</a> <a id="3085" href="Ordinals.ToppedArithmetic.html#3040" class="Bound">τ</a><a id="3086" class="Symbol">)</a> <a id="3088" class="Symbol">(λ</a> <a id="3091" href="Ordinals.ToppedArithmetic.html#3091" class="Bound">_</a> <a id="3093" class="Symbol">→</a> <a id="3095" href="Ordinals.ToppedArithmetic.html#3042" class="Bound">υ</a><a id="3096" class="Symbol">))</a>
                              <a id="3129" href="Ordinals.Arithmetic.html#2690" class="Function">𝟚ₒ-is-trichotomous</a>
                              <a id="3178" class="Symbol">(</a><a id="3179" href="MLTT.Plus.html#215" class="Function">dep-cases</a> <a id="3189" class="Symbol">(λ</a> <a id="3192" href="Ordinals.ToppedArithmetic.html#3192" class="Bound">_</a> <a id="3194" class="Symbol">→</a> <a id="3196" href="Ordinals.ToppedArithmetic.html#3044" class="Bound">t</a><a id="3197" class="Symbol">)</a> <a id="3199" class="Symbol">(λ</a> <a id="3202" href="Ordinals.ToppedArithmetic.html#3202" class="Bound">_</a> <a id="3204" class="Symbol">→</a> <a id="3206" href="Ordinals.ToppedArithmetic.html#3046" class="Bound">u</a><a id="3207" class="Symbol">))</a>

<a id="_×ᵒ_"></a><a id="3211" href="Ordinals.ToppedArithmetic.html#3211" class="Function Operator">_×ᵒ_</a> <a id="3216" class="Symbol">:</a> <a id="3218" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="3227" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a> <a id="3229" class="Symbol">→</a> <a id="3231" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="3240" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a> <a id="3242" class="Symbol">→</a> <a id="3244" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="3253" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a>
<a id="3255" href="Ordinals.ToppedArithmetic.html#3255" class="Bound">τ</a> <a id="3257" href="Ordinals.ToppedArithmetic.html#3211" class="Function Operator">×ᵒ</a> <a id="3260" href="Ordinals.ToppedArithmetic.html#3260" class="Bound">υ</a> <a id="3262" class="Symbol">=</a> <a id="3264" href="Ordinals.ToppedArithmetic.html#1948" class="Function">∑</a> <a id="3266" href="Ordinals.ToppedArithmetic.html#3255" class="Bound">τ</a>  <a id="3269" class="Symbol">(λ</a> <a id="3272" class="Symbol">(</a><a id="3273" href="Ordinals.ToppedArithmetic.html#3273" class="Bound">_</a> <a id="3275" class="Symbol">:</a> <a id="3277" href="Ordinals.Underlying.html#344" class="Field Operator">⟨</a> <a id="3279" href="Ordinals.ToppedArithmetic.html#3255" class="Bound">τ</a> <a id="3281" href="Ordinals.Underlying.html#344" class="Field Operator">⟩</a><a id="3282" class="Symbol">)</a> <a id="3284" class="Symbol">→</a> <a id="3286" href="Ordinals.ToppedArithmetic.html#3260" class="Bound">υ</a><a id="3287" class="Symbol">)</a>

<a id="×ᵒ-is-trichotomous"></a><a id="3290" href="Ordinals.ToppedArithmetic.html#3290" class="Function">×ᵒ-is-trichotomous</a> <a id="3309" class="Symbol">:</a> <a id="3311" class="Symbol">(</a><a id="3312" href="Ordinals.ToppedArithmetic.html#3312" class="Bound">τ</a> <a id="3314" href="Ordinals.ToppedArithmetic.html#3314" class="Bound">υ</a> <a id="3316" class="Symbol">:</a> <a id="3318" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="3327" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a><a id="3328" class="Symbol">)</a>
                   <a id="3349" class="Symbol">→</a> <a id="3351" href="Ordinals.Type.html#1331" class="Function">is-trichotomous</a> <a id="3367" href="Notation.CanonicalMap.html#531" class="Function Operator">[</a> <a id="3369" href="Ordinals.ToppedArithmetic.html#3312" class="Bound">τ</a> <a id="3371" href="Notation.CanonicalMap.html#531" class="Function Operator">]</a>
                   <a id="3392" class="Symbol">→</a> <a id="3394" href="Ordinals.Type.html#1331" class="Function">is-trichotomous</a> <a id="3410" href="Notation.CanonicalMap.html#531" class="Function Operator">[</a> <a id="3412" href="Ordinals.ToppedArithmetic.html#3314" class="Bound">υ</a> <a id="3414" href="Notation.CanonicalMap.html#531" class="Function Operator">]</a>
                   <a id="3435" class="Symbol">→</a> <a id="3437" href="Ordinals.Type.html#1331" class="Function">is-trichotomous</a> <a id="3453" href="Notation.CanonicalMap.html#531" class="Function Operator">[</a> <a id="3455" href="Ordinals.ToppedArithmetic.html#3312" class="Bound">τ</a> <a id="3457" href="Ordinals.ToppedArithmetic.html#3211" class="Function Operator">×ᵒ</a> <a id="3460" href="Ordinals.ToppedArithmetic.html#3314" class="Bound">υ</a> <a id="3462" href="Notation.CanonicalMap.html#531" class="Function Operator">]</a>
<a id="3464" href="Ordinals.ToppedArithmetic.html#3290" class="Function">×ᵒ-is-trichotomous</a> <a id="3483" href="Ordinals.ToppedArithmetic.html#3483" class="Bound">τ</a> <a id="3485" href="Ordinals.ToppedArithmetic.html#3485" class="Bound">υ</a> <a id="3487" href="Ordinals.ToppedArithmetic.html#3487" class="Bound">t</a> <a id="3489" href="Ordinals.ToppedArithmetic.html#3489" class="Bound">u</a> <a id="3491" class="Symbol">=</a> <a id="3493" href="Ordinals.ToppedArithmetic.html#2381" class="Function">∑-is-trichotomous</a> <a id="3511" href="Ordinals.ToppedArithmetic.html#3483" class="Bound">τ</a> <a id="3513" class="Symbol">(λ</a> <a id="3516" href="Ordinals.ToppedArithmetic.html#3516" class="Bound">_</a> <a id="3518" class="Symbol">→</a> <a id="3520" href="Ordinals.ToppedArithmetic.html#3485" class="Bound">υ</a><a id="3521" class="Symbol">)</a> <a id="3523" href="Ordinals.ToppedArithmetic.html#3487" class="Bound">t</a> <a id="3525" class="Symbol">(λ</a> <a id="3528" href="Ordinals.ToppedArithmetic.html#3528" class="Bound">_</a> <a id="3530" class="Symbol">→</a> <a id="3532" href="Ordinals.ToppedArithmetic.html#3489" class="Bound">u</a><a id="3533" class="Symbol">)</a>

<a id="3536" class="Markup">\end{code}</a><a id="3546" class="Background">

Extension of a family X → Ordᵀ along an embedding j : X → A to get a
family A → Ordᵀ. (This can also be done for Ord-valued families.)
This uses the module UF.InjectiveTypes to calculate Y / j.

Sum of a countable family with an added non-isolated top element. We
first extend the family to ℕ∞ and then take the ordinal-indexed sum of
ordinals defined above.

</a><a id="3908" class="Markup">\begin{code}</a>

<a id="3922" class="Keyword">open</a> <a id="3927" href="Ordinals.Injectivity.html#2299" class="Module">topped-ordinals-injectivity</a> <a id="3955" href="Ordinals.ToppedArithmetic.html#943" class="Bound">fe</a>

<a id="∑¹"></a><a id="3959" href="Ordinals.ToppedArithmetic.html#3959" class="Function">∑¹</a> <a id="3962" class="Symbol">:</a> <a id="3964" class="Symbol">(</a><a id="3965" href="MLTT.Natural-Numbers-Type.html#124" class="Datatype">ℕ</a> <a id="3967" class="Symbol">→</a> <a id="3969" href="Ordinals.ToppedArithmetic.html#1352" class="Function">Ordᵀ</a><a id="3973" class="Symbol">)</a> <a id="3975" class="Symbol">→</a> <a id="3977" href="Ordinals.ToppedArithmetic.html#1352" class="Function">Ordᵀ</a>
<a id="3982" href="Ordinals.ToppedArithmetic.html#3959" class="Function">∑¹</a> <a id="3985" href="Ordinals.ToppedArithmetic.html#3985" class="Bound">τ</a> <a id="3987" class="Symbol">=</a> <a id="3989" href="Ordinals.ToppedArithmetic.html#1948" class="Function">∑</a> <a id="3991" href="Ordinals.ToppedArithmetic.html#1839" class="Function">ℕ∞ᵒ</a> <a id="3995" class="Symbol">(</a><a id="3996" href="Ordinals.ToppedArithmetic.html#3985" class="Bound">τ</a> <a id="3998" href="Ordinals.Injectivity.html#2428" class="Function Operator">↗</a> <a id="4000" href="CoNaturals.GenericConvergentSequence.html#7443" class="Function">embedding-ℕ-to-ℕ∞</a> <a id="4018" class="Symbol">(</a><a id="4019" href="Ordinals.ToppedArithmetic.html#943" class="Bound">fe</a> <a id="4022" href="Agda.Primitive.html#764" class="Primitive">𝓤₀</a> <a id="4025" href="Agda.Primitive.html#764" class="Primitive">𝓤₀</a><a id="4027" class="Symbol">))</a>

<a id="4031" class="Markup">\end{code}</a><a id="4041" class="Background">

And now with an isolated top element:

</a><a id="4082" class="Markup">\begin{code}</a>

<a id="∑₁"></a><a id="4096" href="Ordinals.ToppedArithmetic.html#4096" class="Function">∑₁</a> <a id="4099" class="Symbol">:</a> <a id="4101" class="Symbol">(</a><a id="4102" href="MLTT.Natural-Numbers-Type.html#124" class="Datatype">ℕ</a> <a id="4104" class="Symbol">→</a> <a id="4106" href="Ordinals.ToppedArithmetic.html#1352" class="Function">Ordᵀ</a><a id="4110" class="Symbol">)</a> <a id="4112" class="Symbol">→</a> <a id="4114" href="Ordinals.ToppedArithmetic.html#1352" class="Function">Ordᵀ</a>
<a id="4119" href="Ordinals.ToppedArithmetic.html#4096" class="Function">∑₁</a> <a id="4122" href="Ordinals.ToppedArithmetic.html#4122" class="Bound">τ</a> <a id="4124" class="Symbol">=</a> <a id="4126" href="Ordinals.ToppedArithmetic.html#1948" class="Function">∑</a> <a id="4128" class="Symbol">(</a><a id="4129" href="Ordinals.ToppedArithmetic.html#1372" class="Function">succₒ</a> <a id="4135" href="Ordinals.Arithmetic.html#1428" class="Function">ω</a><a id="4136" class="Symbol">)</a> <a id="4138" class="Symbol">(</a><a id="4139" href="Ordinals.ToppedArithmetic.html#4122" class="Bound">τ</a> <a id="4141" href="Ordinals.Injectivity.html#2428" class="Function Operator">↗</a> <a id="4143" class="Symbol">(</a><a id="4144" href="TypeTopology.SquashedSum.html#2033" class="Function">over</a> <a id="4149" href="MLTT.Sigma.html#423" class="InductiveConstructor Operator">,</a> <a id="4151" href="TypeTopology.SquashedSum.html#2072" class="Function">over-embedding</a><a id="4165" class="Symbol">))</a>

<a id="4169" class="Markup">\end{code}</a><a id="4179" class="Background">

Added 4th May 2022.

</a><a id="4202" class="Markup">\begin{code}</a>

<a id="4216" class="Keyword">module</a> <a id="Omega"></a><a id="4223" href="Ordinals.ToppedArithmetic.html#4223" class="Module">Omega</a> <a id="4229" class="Symbol">{</a><a id="4230" href="Ordinals.ToppedArithmetic.html#4230" class="Bound">𝓤</a><a id="4231" class="Symbol">}</a> <a id="4233" class="Symbol">(</a><a id="4234" href="Ordinals.ToppedArithmetic.html#4234" class="Bound">pe</a> <a id="4237" class="Symbol">:</a> <a id="4239" href="UF.Subsingletons.html#13344" class="Function">propext</a> <a id="4247" href="Ordinals.ToppedArithmetic.html#4230" class="Bound">𝓤</a><a id="4248" class="Symbol">)</a> <a id="4250" class="Keyword">where</a>
 <a id="4257" class="Keyword">open</a> <a id="4262" class="Keyword">import</a> <a id="4269" href="Ordinals.OrdinalOfTruthValues.html" class="Module">Ordinals.OrdinalOfTruthValues</a> <a id="4299" href="Ordinals.ToppedArithmetic.html#943" class="Bound">fe</a> <a id="4302" href="Ordinals.ToppedArithmetic.html#4230" class="Bound">𝓤</a> <a id="4304" href="Ordinals.ToppedArithmetic.html#4234" class="Bound">pe</a>
 <a id="4308" class="Keyword">open</a> <a id="4313" class="Keyword">import</a> <a id="4320" href="Ordinals.Notions.html" class="Module">Ordinals.Notions</a>
 <a id="4338" class="Keyword">open</a> <a id="4343" class="Keyword">import</a> <a id="4350" href="UF.Subsingletons-FunExt.html" class="Module">UF.Subsingletons-FunExt</a>

 <a id="Omega.Ωᵒ"></a><a id="4376" href="Ordinals.ToppedArithmetic.html#4376" class="Function">Ωᵒ</a> <a id="4379" class="Symbol">:</a> <a id="4381" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="4390" class="Symbol">(</a><a id="4391" href="Ordinals.ToppedArithmetic.html#4230" class="Bound">𝓤</a> <a id="4393" href="Agda.Primitive.html#780" class="Primitive Operator">⁺</a><a id="4394" class="Symbol">)</a>
 <a id="4397" href="Ordinals.ToppedArithmetic.html#4376" class="Function">Ωᵒ</a> <a id="4400" class="Symbol">=</a> <a id="4402" href="Ordinals.OrdinalOfTruthValues.html#569" class="Function">Ωₒ</a> <a id="4405" href="MLTT.Sigma.html#423" class="InductiveConstructor Operator">,</a> <a id="4407" href="UF.Subsingletons.html#19066" class="Function">⊤Ω</a> <a id="4410" href="MLTT.Sigma.html#423" class="InductiveConstructor Operator">,</a> <a id="4412" href="Ordinals.ToppedArithmetic.html#4425" class="Function">h</a>
  <a id="4416" class="Keyword">where</a>
   <a id="4425" href="Ordinals.ToppedArithmetic.html#4425" class="Function">h</a> <a id="4427" class="Symbol">:</a> <a id="4429" href="Ordinals.Notions.html#10677" class="Function">is-top</a> <a id="4436" class="Symbol">(</a><a id="4437" href="Ordinals.Underlying.html#373" class="Field">underlying-order</a> <a id="4454" href="Ordinals.OrdinalOfTruthValues.html#569" class="Function">Ωₒ</a><a id="4456" class="Symbol">)</a> <a id="4458" href="UF.Subsingletons.html#19066" class="Function">⊤Ω</a>
   <a id="4464" href="Ordinals.ToppedArithmetic.html#4425" class="Function">h</a> <a id="4466" href="Ordinals.ToppedArithmetic.html#4466" class="Bound">y</a> <a id="4468" class="Symbol">(</a><a id="4469" href="Ordinals.ToppedArithmetic.html#4469" class="Bound">p</a> <a id="4471" href="MLTT.Sigma.html#423" class="InductiveConstructor Operator">,</a> <a id="4473" class="Symbol">_)</a> <a id="4476" class="Symbol">=</a> <a id="4478" href="UF.Subsingletons-FunExt.html#12180" class="Function">⊥-is-not-⊤</a> <a id="4489" class="Symbol">(</a><a id="4490" href="Ordinals.ToppedArithmetic.html#4469" class="Bound">p</a> <a id="4492" href="MLTT.Id.html#1084" class="Function Operator">⁻¹</a><a id="4494" class="Symbol">)</a>

<a id="4497" class="Markup">\end{code}</a><a id="4507" class="Background">
</a></pre></body></html>