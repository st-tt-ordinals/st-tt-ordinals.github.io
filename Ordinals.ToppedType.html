<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ordinals.ToppedType</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Background">Martin Escardo, 29 June 2018

The subtype Ordinalsᵀ of ordinals with a top element.

</a><a id="86" class="Markup">\begin{code}</a>

<a id="100" class="Symbol">{-#</a> <a id="104" class="Keyword">OPTIONS</a> <a id="112" class="Pragma">--without-K</a> <a id="124" class="Pragma">--exact-split</a> <a id="138" class="Pragma">--safe</a> <a id="145" class="Pragma">--auto-inline</a> <a id="159" class="Symbol">#-}</a>

<a id="164" class="Keyword">open</a> <a id="169" class="Keyword">import</a> <a id="176" href="UF.FunExt.html" class="Module">UF.FunExt</a>

<a id="187" class="Keyword">module</a> <a id="194" href="Ordinals.ToppedType.html" class="Module">Ordinals.ToppedType</a>
        <a id="222" class="Symbol">(</a><a id="223" href="Ordinals.ToppedType.html#223" class="Bound">fe</a> <a id="226" class="Symbol">:</a> <a id="228" href="UF.FunExt.html#984" class="Function">FunExt</a><a id="234" class="Symbol">)</a>
       <a id="243" class="Keyword">where</a>

<a id="250" class="Keyword">open</a> <a id="255" class="Keyword">import</a> <a id="262" href="MLTT.Spartan.html" class="Module">MLTT.Spartan</a>
<a id="275" class="Keyword">open</a> <a id="280" class="Keyword">import</a> <a id="287" href="Notation.CanonicalMap.html" class="Module">Notation.CanonicalMap</a>
<a id="309" class="Keyword">open</a> <a id="314" class="Keyword">import</a> <a id="321" href="Ordinals.Notions.html" class="Module">Ordinals.Notions</a>
<a id="338" class="Keyword">open</a> <a id="343" class="Keyword">import</a> <a id="350" href="Ordinals.Type.html" class="Module">Ordinals.Type</a>
<a id="364" class="Keyword">open</a> <a id="369" class="Keyword">import</a> <a id="376" href="Ordinals.Underlying.html" class="Module">Ordinals.Underlying</a>
<a id="396" class="Keyword">open</a> <a id="401" class="Keyword">import</a> <a id="408" href="UF.Base.html" class="Module">UF.Base</a>
<a id="416" class="Keyword">open</a> <a id="421" class="Keyword">import</a> <a id="428" href="UF.Subsingletons.html" class="Module">UF.Subsingletons</a>

<a id="446" class="Markup">\end{code}</a><a id="456" class="Background">

To get closure under sums constructively, we need to restrict to
particular kinds of ordinals. Having a top element is a simple
sufficient condition, which holds in the applications we have in mind
(for compact ordinals).  Classically, the topped ordinals are the
successor ordinals. Constructively, ℕ∞ is an example of an ordinal
with a top element which is not a successor ordinal, as its top
element is not isolated.

</a><a id="879" class="Markup">\begin{code}</a>

<a id="Ordinalᵀ"></a><a id="893" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="902" class="Symbol">:</a> <a id="904" class="Symbol">∀</a> <a id="906" href="Ordinals.ToppedType.html#906" class="Bound">𝓤</a> <a id="908" class="Symbol">→</a> <a id="910" href="Ordinals.ToppedType.html#906" class="Bound">𝓤</a> <a id="912" href="Agda.Primitive.html#780" class="Primitive Operator">⁺</a> <a id="914" href="MLTT.Universes.html#422" class="Function Operator">̇</a>
<a id="916" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="925" href="Ordinals.ToppedType.html#925" class="Bound">𝓤</a> <a id="927" class="Symbol">=</a> <a id="929" href="MLTT.Sigma.html#451" class="Function">Σ</a> <a id="931" href="Ordinals.ToppedType.html#931" class="Bound">α</a> <a id="933" href="MLTT.Sigma.html#451" class="Function">꞉</a> <a id="935" href="Ordinals.Type.html#682" class="Function">Ordinal</a> <a id="943" href="Ordinals.ToppedType.html#925" class="Bound">𝓤</a> <a id="945" href="MLTT.Sigma.html#451" class="Function">,</a> <a id="947" href="Ordinals.Notions.html#11174" class="Function">has-top</a> <a id="955" class="Symbol">(</a><a id="956" href="Ordinals.Underlying.html#373" class="Field">underlying-order</a> <a id="973" href="Ordinals.ToppedType.html#931" class="Bound">α</a><a id="974" class="Symbol">)</a>

<a id="977" class="Keyword">instance</a>
 <a id="canonical-map-Ordinalᵀ-Ordinal"></a><a id="987" href="Ordinals.ToppedType.html#987" class="Function">canonical-map-Ordinalᵀ-Ordinal</a> <a id="1018" class="Symbol">:</a> <a id="1020" href="Notation.CanonicalMap.html#318" class="Record">Canonical-Map</a> <a id="1034" class="Symbol">(</a><a id="1035" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="1044" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a><a id="1045" class="Symbol">)</a> <a id="1047" class="Symbol">(</a><a id="1048" href="Ordinals.Type.html#682" class="Function">Ordinal</a> <a id="1056" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a><a id="1057" class="Symbol">)</a>
 <a id="1060" href="Notation.CanonicalMap.html#388" class="Field">ι</a> <a id="1062" class="Symbol">{{</a><a id="1064" href="Ordinals.ToppedType.html#987" class="Function">canonical-map-Ordinalᵀ-Ordinal</a><a id="1094" class="Symbol">}}</a> <a id="1097" class="Symbol">(</a><a id="1098" href="Ordinals.ToppedType.html#1098" class="Bound">α</a> <a id="1100" href="MLTT.Sigma.html#423" class="InductiveConstructor Operator">,</a> <a id="1102" class="Symbol">_)</a> <a id="1105" class="Symbol">=</a> <a id="1107" href="Ordinals.ToppedType.html#1098" class="Bound">α</a>

<a id="1110" class="Keyword">instance</a>
 <a id="underlying-type-of-topped-ordinal"></a><a id="1120" href="Ordinals.ToppedType.html#1120" class="Function">underlying-type-of-topped-ordinal</a> <a id="1154" class="Symbol">:</a> <a id="1156" href="Ordinals.Underlying.html#292" class="Record">Underlying</a> <a id="1167" class="Symbol">(</a><a id="1168" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="1177" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a><a id="1178" class="Symbol">)</a>
 <a id="1181" href="Ordinals.Underlying.html#344" class="Field Operator">⟨_⟩</a> <a id="1185" class="Symbol">{{</a><a id="1187" href="Ordinals.ToppedType.html#1120" class="Function">underlying-type-of-topped-ordinal</a><a id="1220" class="Symbol">}}</a> <a id="1223" class="Symbol">(</a><a id="1224" href="Ordinals.ToppedType.html#1224" class="Bound">α</a> <a id="1226" href="MLTT.Sigma.html#423" class="InductiveConstructor Operator">,</a> <a id="1228" class="Symbol">_)</a> <a id="1231" class="Symbol">=</a> <a id="1233" href="Ordinals.Underlying.html#344" class="Field Operator">⟨</a> <a id="1235" href="Ordinals.ToppedType.html#1224" class="Bound">α</a> <a id="1237" href="Ordinals.Underlying.html#344" class="Field Operator">⟩</a>
 <a id="1240" href="Ordinals.Underlying.html#373" class="Field">underlying-order</a> <a id="1257" class="Symbol">{{</a><a id="1259" href="Ordinals.ToppedType.html#1120" class="Function">underlying-type-of-topped-ordinal</a><a id="1292" class="Symbol">}}</a> <a id="1295" class="Symbol">(</a><a id="1296" href="Ordinals.ToppedType.html#1296" class="Bound">α</a> <a id="1298" href="MLTT.Sigma.html#423" class="InductiveConstructor Operator">,</a> <a id="1300" class="Symbol">_)</a> <a id="1303" class="Symbol">=</a> <a id="1305" href="Ordinals.Underlying.html#373" class="Field">underlying-order</a> <a id="1322" href="Ordinals.ToppedType.html#1296" class="Bound">α</a>

<a id="underlying-type-is-setᵀ"></a><a id="1325" href="Ordinals.ToppedType.html#1325" class="Function">underlying-type-is-setᵀ</a> <a id="1349" class="Symbol">:</a> <a id="1351" href="UF.FunExt.html#984" class="Function">FunExt</a>
                        <a id="1382" class="Symbol">→</a> <a id="1384" class="Symbol">(</a><a id="1385" href="Ordinals.ToppedType.html#1385" class="Bound">β</a> <a id="1387" class="Symbol">:</a> <a id="1389" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="1398" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a><a id="1399" class="Symbol">)</a>
                        <a id="1425" class="Symbol">→</a> <a id="1427" href="UF.Subsingletons.html#3105" class="Function">is-set</a> <a id="1434" href="Ordinals.Underlying.html#344" class="Field Operator">⟨</a> <a id="1436" href="Ordinals.ToppedType.html#1385" class="Bound">β</a> <a id="1438" href="Ordinals.Underlying.html#344" class="Field Operator">⟩</a>
<a id="1440" href="Ordinals.ToppedType.html#1325" class="Function">underlying-type-is-setᵀ</a> <a id="1464" href="Ordinals.ToppedType.html#1464" class="Bound">fe</a> <a id="1467" class="Symbol">(</a><a id="1468" href="Ordinals.ToppedType.html#1468" class="Bound">α</a> <a id="1470" href="MLTT.Sigma.html#423" class="InductiveConstructor Operator">,</a> <a id="1472" href="Ordinals.ToppedType.html#1472" class="Bound">t</a><a id="1473" class="Symbol">)</a> <a id="1475" class="Symbol">=</a> <a id="1477" href="Ordinals.Type.html#4403" class="Function">underlying-type-is-set</a> <a id="1500" href="Ordinals.ToppedType.html#1464" class="Bound">fe</a> <a id="1503" href="Ordinals.ToppedType.html#1468" class="Bound">α</a>

<a id="1506" class="Markup">\end{code}</a><a id="1516" class="Background">

Topped ordinals are ranged over by τ,υ.

</a><a id="1559" class="Markup">\begin{code}</a>

<a id="tis-well-ordered"></a><a id="1573" href="Ordinals.ToppedType.html#1573" class="Function">tis-well-ordered</a> <a id="1590" class="Symbol">:</a> <a id="1592" class="Symbol">(</a><a id="1593" href="Ordinals.ToppedType.html#1593" class="Bound">τ</a> <a id="1595" class="Symbol">:</a> <a id="1597" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="1606" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a><a id="1607" class="Symbol">)</a> <a id="1609" class="Symbol">→</a> <a id="1611" href="Ordinals.Notions.html#6816" class="Function">is-well-order</a> <a id="1625" class="Symbol">(</a><a id="1626" href="Ordinals.Underlying.html#373" class="Field">underlying-order</a> <a id="1643" href="Ordinals.ToppedType.html#1593" class="Bound">τ</a><a id="1644" class="Symbol">)</a>
<a id="1646" href="Ordinals.ToppedType.html#1573" class="Function">tis-well-ordered</a> <a id="1663" class="Symbol">((</a><a id="1665" href="Ordinals.ToppedType.html#1665" class="Bound">X</a> <a id="1667" href="MLTT.Sigma.html#423" class="InductiveConstructor Operator">,</a> <a id="1669" href="Ordinals.ToppedType.html#1669" class="Bound Operator">_&lt;_</a> <a id="1673" href="MLTT.Sigma.html#423" class="InductiveConstructor Operator">,</a> <a id="1675" href="Ordinals.ToppedType.html#1675" class="Bound">o</a><a id="1676" class="Symbol">)</a> <a id="1678" href="MLTT.Sigma.html#423" class="InductiveConstructor Operator">,</a> <a id="1680" href="Ordinals.ToppedType.html#1680" class="Bound">t</a><a id="1681" class="Symbol">)</a> <a id="1683" class="Symbol">=</a> <a id="1685" href="Ordinals.ToppedType.html#1675" class="Bound">o</a>

<a id="≾-prop-valued"></a><a id="1688" href="Ordinals.ToppedType.html#1688" class="Function">≾-prop-valued</a> <a id="1702" class="Symbol">:</a> <a id="1704" class="Symbol">(</a><a id="1705" href="Ordinals.ToppedType.html#1705" class="Bound">τ</a> <a id="1707" class="Symbol">:</a> <a id="1709" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="1718" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a><a id="1719" class="Symbol">)</a> <a id="1721" class="Symbol">(</a><a id="1722" href="Ordinals.ToppedType.html#1722" class="Bound">x</a> <a id="1724" href="Ordinals.ToppedType.html#1724" class="Bound">y</a> <a id="1726" class="Symbol">:</a> <a id="1728" href="Ordinals.Underlying.html#344" class="Field Operator">⟨</a> <a id="1730" href="Ordinals.ToppedType.html#1705" class="Bound">τ</a> <a id="1732" href="Ordinals.Underlying.html#344" class="Field Operator">⟩</a><a id="1733" class="Symbol">)</a> <a id="1735" class="Symbol">→</a> <a id="1737" href="UF.Subsingletons.html#498" class="Function">is-prop</a> <a id="1745" class="Symbol">(</a><a id="1746" href="Ordinals.ToppedType.html#1722" class="Bound">x</a> <a id="1748" href="Ordinals.Underlying.html#424" class="Function">≾⟨</a> <a id="1751" href="Ordinals.ToppedType.html#1705" class="Bound">τ</a> <a id="1753" href="Ordinals.Underlying.html#424" class="Function">⟩</a> <a id="1755" href="Ordinals.ToppedType.html#1724" class="Bound">y</a><a id="1756" class="Symbol">)</a>
<a id="1758" href="Ordinals.ToppedType.html#1688" class="Function">≾-prop-valued</a> <a id="1772" class="Symbol">{</a><a id="1773" href="Ordinals.ToppedType.html#1773" class="Bound">𝓤</a><a id="1774" class="Symbol">}</a> <a id="1776" href="Ordinals.ToppedType.html#1776" class="Bound">τ</a> <a id="1778" class="Symbol">=</a> <a id="1780" href="Ordinals.Notions.html#9482" class="Function">≾-is-prop-valued</a>
                       <a id="1820" class="Symbol">(</a><a id="1821" href="Ordinals.Underlying.html#373" class="Field">underlying-order</a> <a id="1838" href="Ordinals.ToppedType.html#1776" class="Bound">τ</a><a id="1839" class="Symbol">)</a>
                       <a id="1864" class="Symbol">(</a><a id="1865" href="Ordinals.ToppedType.html#223" class="Bound">fe</a> <a id="1868" href="Ordinals.ToppedType.html#1773" class="Bound">𝓤</a> <a id="1870" href="Agda.Primitive.html#764" class="Primitive">𝓤₀</a><a id="1872" class="Symbol">)</a>
                       <a id="1897" class="Symbol">(</a><a id="1898" href="Ordinals.Type.html#1535" class="Function">Prop-valuedness</a> <a id="1914" href="Notation.CanonicalMap.html#531" class="Function Operator">[</a> <a id="1916" href="Ordinals.ToppedType.html#1776" class="Bound">τ</a> <a id="1918" href="Notation.CanonicalMap.html#531" class="Function Operator">]</a><a id="1919" class="Symbol">)</a>

<a id="topped"></a><a id="1922" href="Ordinals.ToppedType.html#1922" class="Function">topped</a> <a id="1929" class="Symbol">:</a> <a id="1931" class="Symbol">(</a><a id="1932" href="Ordinals.ToppedType.html#1932" class="Bound">τ</a> <a id="1934" class="Symbol">:</a> <a id="1936" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="1945" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a><a id="1946" class="Symbol">)</a> <a id="1948" class="Symbol">→</a> <a id="1950" href="Ordinals.Notions.html#11174" class="Function">has-top</a> <a id="1958" class="Symbol">(</a><a id="1959" href="Ordinals.Underlying.html#373" class="Field">underlying-order</a> <a id="1976" href="Ordinals.ToppedType.html#1932" class="Bound">τ</a><a id="1977" class="Symbol">)</a>
<a id="1979" href="Ordinals.ToppedType.html#1922" class="Function">topped</a> <a id="1986" class="Symbol">(</a><a id="1987" href="Ordinals.ToppedType.html#1987" class="Bound">α</a> <a id="1989" href="MLTT.Sigma.html#423" class="InductiveConstructor Operator">,</a> <a id="1991" href="Ordinals.ToppedType.html#1991" class="Bound">t</a><a id="1992" class="Symbol">)</a> <a id="1994" class="Symbol">=</a> <a id="1996" href="Ordinals.ToppedType.html#1991" class="Bound">t</a>

<a id="top"></a><a id="1999" href="Ordinals.ToppedType.html#1999" class="Function">top</a> <a id="2003" class="Symbol">:</a> <a id="2005" class="Symbol">(</a><a id="2006" href="Ordinals.ToppedType.html#2006" class="Bound">τ</a> <a id="2008" class="Symbol">:</a> <a id="2010" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="2019" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a><a id="2020" class="Symbol">)</a> <a id="2022" class="Symbol">→</a> <a id="2024" href="Ordinals.Underlying.html#344" class="Field Operator">⟨</a> <a id="2026" href="Ordinals.ToppedType.html#2006" class="Bound">τ</a> <a id="2028" href="Ordinals.Underlying.html#344" class="Field Operator">⟩</a>
<a id="2030" href="Ordinals.ToppedType.html#1999" class="Function">top</a> <a id="2034" class="Symbol">(</a><a id="2035" href="Ordinals.ToppedType.html#2035" class="Bound">α</a> <a id="2037" href="MLTT.Sigma.html#423" class="InductiveConstructor Operator">,</a> <a id="2039" class="Symbol">(</a><a id="2040" href="Ordinals.ToppedType.html#2040" class="Bound">x</a> <a id="2042" href="MLTT.Sigma.html#423" class="InductiveConstructor Operator">,</a> <a id="2044" href="Ordinals.ToppedType.html#2044" class="Bound">i</a><a id="2045" class="Symbol">))</a> <a id="2048" class="Symbol">=</a> <a id="2050" href="Ordinals.ToppedType.html#2040" class="Bound">x</a>

<a id="top-is-top"></a><a id="2053" href="Ordinals.ToppedType.html#2053" class="Function">top-is-top</a> <a id="2064" class="Symbol">:</a> <a id="2066" class="Symbol">(</a><a id="2067" href="Ordinals.ToppedType.html#2067" class="Bound">τ</a> <a id="2069" class="Symbol">:</a> <a id="2071" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="2080" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a><a id="2081" class="Symbol">)</a> <a id="2083" class="Symbol">→</a> <a id="2085" href="Ordinals.Notions.html#10677" class="Function">is-top</a> <a id="2092" class="Symbol">(</a><a id="2093" href="Ordinals.Underlying.html#373" class="Field">underlying-order</a> <a id="2110" href="Ordinals.ToppedType.html#2067" class="Bound">τ</a><a id="2111" class="Symbol">)</a> <a id="2113" class="Symbol">(</a><a id="2114" href="Ordinals.ToppedType.html#1999" class="Function">top</a> <a id="2118" href="Ordinals.ToppedType.html#2067" class="Bound">τ</a><a id="2119" class="Symbol">)</a>
<a id="2121" href="Ordinals.ToppedType.html#2053" class="Function">top-is-top</a> <a id="2132" class="Symbol">(</a><a id="2133" href="Ordinals.ToppedType.html#2133" class="Bound">α</a> <a id="2135" href="MLTT.Sigma.html#423" class="InductiveConstructor Operator">,</a> <a id="2137" class="Symbol">(</a><a id="2138" href="Ordinals.ToppedType.html#2138" class="Bound">x</a> <a id="2140" href="MLTT.Sigma.html#423" class="InductiveConstructor Operator">,</a> <a id="2142" href="Ordinals.ToppedType.html#2142" class="Bound">i</a><a id="2143" class="Symbol">))</a> <a id="2146" class="Symbol">=</a> <a id="2148" href="Ordinals.ToppedType.html#2142" class="Bound">i</a>

<a id="2151" class="Keyword">open</a> <a id="2156" class="Keyword">import</a> <a id="2163" href="TypeTopology.InfProperty.html" class="Module">TypeTopology.InfProperty</a>

<a id="has-infs-of-complemented-subsets"></a><a id="2189" href="Ordinals.ToppedType.html#2189" class="Function">has-infs-of-complemented-subsets</a> <a id="2222" class="Symbol">:</a> <a id="2224" href="Ordinals.ToppedType.html#893" class="Function">Ordinalᵀ</a> <a id="2233" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a> <a id="2235" class="Symbol">→</a> <a id="2237" href="MLTT.Universes.html#279" class="Generalizable">𝓤</a> <a id="2239" href="MLTT.Universes.html#422" class="Function Operator">̇</a>
<a id="2241" href="Ordinals.ToppedType.html#2189" class="Function">has-infs-of-complemented-subsets</a> <a id="2274" href="Ordinals.ToppedType.html#2274" class="Bound">τ</a> <a id="2276" class="Symbol">=</a> <a id="2278" href="TypeTopology.InfProperty.html#727" class="Function">has-inf</a> <a id="2286" class="Symbol">(</a><a id="2287" href="Ordinals.Underlying.html#424" class="Function">underlying-weak-order</a> <a id="2309" href="Ordinals.ToppedType.html#2274" class="Bound">τ</a><a id="2310" class="Symbol">)</a>

<a id="2313" class="Markup">\end{code}</a><a id="2323" class="Background">
</a></pre></body></html>